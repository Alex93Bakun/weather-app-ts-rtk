"use strict";(self.webpackChunkweather=self.webpackChunkweather||[]).push([[935],{2935:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var r,a,i=t(1413),c=t(8214),u=t(5861),s=t(2982),o=t(168),f=t(2791),l=t(7621),p=t(9504),h=t(2169),d=t(890),x=t(6647),Z=t(4554),g=t(6151),v=t(6871),m=t(184),w=function(n){var e=n.name,t=n.main,r=n.weather,a=n.sys,i=n.updateCityWeatherHandler,c=n.index,u=(0,v.s0)(),s=r[0].icon,o=r[0].main;return(0,m.jsx)(l.Z,{sx:{maxWidth:345,width:"325px"},onClick:function(){return function(n){u("".concat(n))}(e)},children:(0,m.jsxs)(x.Z,{children:[(0,m.jsxs)(Z.Z,{display:"flex",sx:{height:100},children:[(0,m.jsx)(h.Z,{component:"img",sx:{width:100,height:100},image:"http://openweathermap.org/img/w/".concat(s,".png"),alt:o}),(0,m.jsxs)(Z.Z,{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-end",children:[(0,m.jsxs)(d.Z,{fontSize:"30px",padding:"16px",children:[Math.round(t.temp),"\xb0C"]}),(0,m.jsxs)(d.Z,{fontSize:"14px",paddingRight:"16px",children:["Feels like ",Math.round(t.feels_like),"\xb0C."]})]})]}),(0,m.jsxs)(p.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,m.jsxs)(d.Z,{gutterBottom:!0,variant:"h5",component:"div",children:[e,", ",a.country]}),(0,m.jsx)(g.Z,{variant:"text",onClick:function(n){n.stopPropagation(),i(c)},children:"Update"})]})]})})},j=t(1605),y=t(7939),C=t(885),k=t(1916),W=t(5304),b=t(9861),S=t(7534),D=y.ZP.div(r||(r=(0,o.Z)(["\n    width: 60%;\n    margin: 40px auto;\n"]))),I=function(){var n=(0,f.useState)(""),e=(0,C.Z)(n,2),t=e[0],r=e[1],a=(0,W.X)();return(0,m.jsx)(D,{children:(0,m.jsx)(Z.Z,{sx:{width:"100%",bgcolor:"#fff"},children:(0,m.jsx)(k.Z,{fullWidth:!0,label:"Type city name and press Enter",onChange:function(n){return function(n){var e=n.target.value;r(e)}(n)},onKeyDown:function(n){return function(n){if("Enter"===n.key&&t.length>0){var e=localStorage.getItem("cities");if(e){var i=JSON.parse(e);i.push(t),localStorage.setItem("cities",JSON.stringify((0,S.d)(i)))}a((0,b.s)(t)),r("")}}(n)},value:t})})})},E=t(1850),J=t(4247),q=y.ZP.div(a||(a=(0,o.Z)(["\n    padding: 0 15px;\n    display: flex;\n    column-gap: 35px;\n    row-gap: 20px;\n    flex-wrap: wrap;\n"]))),P=function(n){var e=n.cities,t=(0,W.X)(),r=(0,W.n)((function(n){return n.currentWeatherSliceReducer})),a=r.weather,o=r.isLoading;(0,f.useEffect)((function(){t((0,J.Jo)()),e.forEach((function(n){t((0,J.ui)(n))}))}),[e]);var l=function(n,e){var r=(0,s.Z)(a);r[n]=e,t((0,J.mI)(r[n].name))},p=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(t){var r,a;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.Z.get("/weather?q=".concat(e[t],"&units=metric"));case 2:r=n.sent,a=r.data,l(t,a);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return o?(0,m.jsx)(j.Z,{}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I,{}),(0,m.jsx)(q,{children:a.map((function(n,e){return console.log(n),(0,m.jsx)(w,(0,i.Z)((0,i.Z)({},n),{},{updateCityWeatherHandler:p,index:e}),e)}))})]})}},1850:function(n,e,t){var r=t(4569),a=t.n(r)().create({baseURL:"https://api.openweathermap.org/data/2.5"});a.interceptors.request.use((function(n){return n.url=n.url+"&appid=52bd84c502b64a2423919bfa44589376",n})),e.Z=a},1605:function(n,e,t){t(2791);var r=t(3239),a=t(4554),i=t(184);e.Z=function(){return(0,i.jsx)(a.Z,{sx:{display:"flex"},children:(0,i.jsx)(r.Z,{})})}},4247:function(n,e,t){t.d(e,{Jo:function(){return l},ui:function(){return f},mI:function(){return p}});var r=t(8214),a=t(5861),i=t(8756),c=t(5671),u=t(3144),s=t(1850),o=function(){function n(){(0,c.Z)(this,n)}return(0,u.Z)(n,null,[{key:"getCurrentWeather",value:function(n){return s.Z.get("/weather?q=".concat(n,"&units=metric"))}}]),n}(),f=function(n){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(i.D.actions.fetchCurrentWeather()),e.next=4,o.getCurrentWeather(n);case 4:200===(a=e.sent).status?t(i.D.actions.fetchCurrentWeatherSuccess(a)):t(i.D.actions.fetchCurrentWeatherError(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()},l=function(){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(i.D.actions.clearState());case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},p=function(n){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getCurrentWeather(n);case 2:a=e.sent,t(i.D.actions.updateCityWeather(a));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=935.4d8e9148.chunk.js.map